---
title: "Auto-diagnostic des transitions – Synthèse"
output:
  pdf_document:
    latex_engine: xelatex
geometry: margin=2cm
params:
  identite: NULL
  df_details: NULL
  radar_path: NULL
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
id  <- params$identite
res <- params$df_details
radar_path <- params$radar_path
```

```{r , Fig.Akign='center',Fig.Width=7, Fig.height=5}
knitr::include_graphics(params$radar_path)
```

```{r}
library(dplyr)

themes <- unique(res$Theme)

for (th in themes) {
  cat("## ", th, "\n\n")
  
  d <- res %>% filter(Theme == th)
  
  # tableau simple
  knitr::kable(
    d %>% select(Objectif, score_pct),
    col.names = c("Objectif", "Score (%)"),
    align = c("l", "c")
  )
  
  cat("\n\n")
}
```